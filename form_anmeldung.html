<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Anmeldung</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    label { display: block; margin-top: 12px; }
    select, input { width: 250px; padding: 6px; }
    button { margin-top: 20px; padding: 10px 20px; }
</style>
</head>
<body>

<h2>Anmeldung</h2>

<form id="anmeldeForm">
    <label>Vorname:
        <input type="text" id="vorname" required>
    </label>

    <label>Nachname:
        <input type="text" id="nachname" required>
    </label>

    <label>Email:
        <input type="email" id="email" required>
    </label>

    <p>Ich benötige eine Mitfahrgelegenheit</p>

    <label>für meine Person:
        <select id="Person" required>
            <option value="">zutreffendes auswählen</option>
            <option value="nein">nein</option>
            <option value="ja">ja</option>
        </select>
    </label>

    <label>für mein EBike:
        <select id="EBike" required>
            <option value="">zutreffendes auswählen</option>
            <option value="nein">nein</option>
            <option value="ja">ja</option>
        </select>
    </label>

    <label>für mein unmotorisiertes Fahrrad:
        <select id="unmotorisiertesFahrrad" required>
            <option value="">zutreffendes auswählen</option>
            <option value="nein">nein</option>
            <option value="ja">ja</option>
        </select>
    </label>

    <button type="button" onclick="absenden()">absenden</button>
</form>

<script>
async function absenden() {
    const felder = ["vorname", "nachname", "email", "Person", "EBike", "unmotorisiertesFahrrad"];

    for (let id of felder) {
        const feld = document.getElementById(id);
        if (!feld.value) {
            feld.focus();
            alert("Bitte eine Eingabe machen.");
            return;
        }
    }

    const daten = {
        Vorname: document.getElementById("vorname").value,
        Nachname: document.getElementById("nachname").value,
        Email: document.getElementById("email").value,
        Person: document.getElementById("Person").value,
        EBike: document.getElementById("EBike").value,
        unmotorisiertesFahrrad: document.getElementById("unmotorisiertesFahrrad").value
    };

    // HIER DEINE GOOGLE-WEBAPP-URL EINSETZEN
    const url = "https://script.google.com/macros/s/AKfycbw0kew9uuNMt-GetPzNnTptUXI_hQm0LHPxLETj379vkMXMHKC5sS3zmZ6BtmQ2FTRU/exec";

    try {
        const response = await fetch(url, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(daten)
        });


        if (response.ok) {
            alert("Vielen Dank! Ihre Anmeldung wurde erfolgreich übermittelt.");
            window.location.href = "index.html";
        } else {
            alert("Fehler beim Senden der Anmeldung.");
        }
    } catch (error) {
        alert("Netzwerkfehler: " + error);
    }
}
</script>

</body>
</html>

